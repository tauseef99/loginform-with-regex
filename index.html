<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>login form</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <form>
        <input type="text" name="username" placeholder="username" id="username" autocomplete="off" />
        <p>Username must be and contain 5 - 20 characters with no space</p>
  
        <input type="email" name="email" placeholder="email" id="email" required autocomplete="off"/>
        <p>Email must be a valid address, e.g. tauseef@gmail.com</p>
  
        <input type="password" name="password" placeholder="password" id="password" maxlength="35" autocomplete="off" class="password" required/>
        <p>Password must be alphanumeric (@, _ and - are also allowed) and be 8 - 20 characters</p>
        <i class="fas fa-eye fa-2x hide-password"></i>
        <i class="fas fa-eye-slash fa-2x show-password" ></i>
  
        <input type="submit" value="Submit" class="submit-btn" required>
    </form>

    <!-- js section -->
    
    <script>
        const inputs = document.querySelectorAll('input');
        const passwordField = document.querySelector('.password');
        const showPasswordIcon = document.querySelector('.show-password');
        const hidePasswordIcon = document.querySelector('.hide-password');
        
        showPasswordIcon.addEventListener('click', function() {
        showPasswordIcon.style.display = 'none';
        hidePasswordIcon.style.display = 'block';
        passwordField.setAttribute('type', 'text');
    });
        
        hidePasswordIcon.addEventListener('click', function()  {
            hidePasswordIcon.style.display = 'none';
            showPasswordIcon.style.display = 'block';
            passwordField.setAttribute('type', 'password');
        });
        
        const patterns = {
            username: /^[a-z\d]{5,20}$/i,
            email: /^([a-z\d\.-]+)@([a-z\d-]+)\.([a-z]{2,8})(\.[a-z]{2,8})?$/,
            password: /^[\w@_-]{8,30}$/i,
            
        };
        
        const validate = (field, regex) => {
            const valid = regex.test(field.value);
            if (valid) {
                field.className = 'valid';
            } else {
                field.className = 'invalid';
            }
        };
        
        inputs.forEach((input) => {
            input.addEventListener('keyup', (e) => {
                validate(e.target, patterns[e.target.attributes.name.value]);
            });
        });

        const form = document.querySelector('form');

        form.addEventListener('submit', (e) => {
            e.preventDefault(); // Prevent the form from submitting normally

            // Get the input field values
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;

            // Display the input values in console
            console.log('Username:', username);
            console.log('Email:', email);
            console.log('Password:', password);

            // Display the input values in an alert message
            const message = `Username: ${username}\nEmail: ${email}\nPassword: ${password}`;
            alert(message);
        });
    </script>
</body>
</html>
